### 基本数据类型及其缓存

1.Boolean,缓存了true/false实例，确切的说，只会返回两个常量实例 Boolean.TRUE/FALSE

  Short,Int,Long 同样是缓存了-128到127之间的数值
  
  Byte数值有限，所以全部都被缓存
  
  Charchater,缓存范围'\u0000'到'\u007F'
  
  
  
2.JVM手动设置缓存值上限  -XX:AutoBoxCacheMax=N




3.对象头的组成：

    在HotSpot虚拟机中，对象在内存中存储的布局可以分为3块区域：对象头（Header）、实例数据（Instance Data）和对齐填充（Padding）。
    
    HotSpot虚拟机的对象头包括两部分信息，第一部分用于存储对象自身的运行时数据，如哈希码（HashCode）、GC分代年龄、锁状态标志、线程持有的锁、
    
    偏向线程ID、偏向时间戳等，这部分数据的长度在32位和64位的虚拟机（未开启压缩指针）中分别为32bit和64bit，官方称它为"Mark Word"。
    
    
    对象头的另外一部分是类型指针，即对象指向它的类元数据的指针，虚拟机通过这个指针来确定这个对象是哪个类的实例。并不是所有的虚拟机实现都必须在对象数据上保留类型指针，
    
    换句话说，查找对象的元数据信息并不一定要经过对象本身，这点将在2.3.3节讨论。另外，如果对象是一个Java数组，那在对象头中还必须有一块用于记录数组长度的数据，
    
    因为虚拟机可以通过普通Java对象的元数据信息确定Java对象的大小，但是从数组的元数据中却无法确定数组的大小。
    
    接下来的实例数据部分是对象真正存储的有效信息，也是在程序代码中所定义的各种类型的字段内容。无论是从父类继承下来的，还是在子类中定义的，都需要记录起来。
    
    第三部分对齐填充并不是必然存在的，也没有特别的含义，它仅仅起着占位符的作用。由于HotSpot VM的自动内存管理系统要求对象起始地址必须是8字节的整数倍，
    
    换句话说，就是对象的大小必须是8字节的整数倍。
    
4.    
      1. Mark Word:标记位 4字节，类似轻量级锁标记位，偏向锁标记位等。
      2. Class对象指针:4字节，指向对象对应class对象的内存地址。
      3. 对象实际数据:对象所有成员变量。
      4. 对齐:对齐填充字节，按照8个字节填充。
  
  Integer占用内存大小，4+4+4+4=16字节。    
  
  如果是64位不用压缩指针，对象头会变大，还可能有对齐开销